---
title: "p8105_hw1_xy2719"
author: "Yao"
date: "2025-09-19"
output: github_document
---

## Problem 1
```{r echo=TRUE}
# Load the tidyverse and moderndive library
library(tidyverse)
library(moderndive)

# Load the 'early_january_weather' dataset
data("early_january_weather")

# View the dataset
view(early_january_weather)
```

```{r echo=TRUE}
# Accessing the dataset help file
?early_january_weather

# Get the size of the dataset and the mean of temperature
nrow(early_january_weather)
ncol(early_january_weather)
round(mean(early_january_weather$temp), 1)
```
The 'early_january_weather' dataset contains hourly meteorological data for LGA, JFK and EWR for the month of January 2013. This subset data frame contains hourly weather data of EWR.
This dataset includes `r nrow(early_january_weather)` rows, `r ncol(early_january_weather)` columns, and 15 variables. The important variables are 'origin', 'year', 'month', 'day', 'hour', 'temp', 'demp', 'humid', 'wind_dir', wind_speed', wind_gust', 'precip', 'pressure', 'visib', and 'time_hour'.
The mean temperature during this period was **`r round(mean(early_january_weather$temp, na.rm = TRUE), 1)` °F**.

```{r echo=TRUE}
# Create a scatterplot of temp (y) vs time_hour (x)
scatter_temp_time = ggplot(early_january_weather,
                           aes(x = time_hour, y = temp, color = humid)) +
  geom_point() +
  labs(x = "Time(Hour)", y = "Temperature(°F)",
       title = "EWR Weather: Temperature vs Time ",
       color = "Humidity") +
  theme_minimal()

# Print the scatterplot
scatter_temp_time

# Save the scatterplot
ggsave("scatter_temp_time.png", scatter_temp_time, width = 7, height = 4)
```
The scatterplot shows hourly temperature change over time, with points showing different humidity levels. Temperature goes up and down during the day, following a daily cycle. Temperatures are generally cooler when humidity is higher, and warmer when humidity is lower.

## Problem 2
```{r}
# Create a dataframe
df <- tibble(
  sample_norm = rnorm(10),
  positive= sample_norm > 0,
  char_vec = sample(letters, 10),
  fac_vec = factor(sample(c("low","med","high"), 10, replace = TRUE),
                    levels = c("low","med","high"))
)

df
```

```{r}
# Try taking means
mean(df %>% pull(sample_norm))
mean(df %>% pull(positive))
#mean(df %>% pull(char_vec))
#mean(df %>% pull(fac_vec))
```
Taking the mean of 'sample_norm' works because it is numeric data.
Taking the mean of 'positive' works because it is logical, TRUE=1, FALSE=0.
Taking the mean of 'char_vec' doesn't work because charaters cannot be averaged.
Taking the mean of 'fac_vec' doesn't work because factors cannot be averaged.

```{r}
# Convert variables type
as.numeric(df$positive)
as.numeric(df$char_vec)
as.numeric(df$fac_vec)
```
For logical variables, when they are converted to numeric, TRUE becomes 1 and FALSE becomes 0, so mean(positive) returns the proportion of TRUE.
For character variables, when they are converted to numeric, they yield NA since letters aren’t numbers, so mean fails.
For factor variables, when they are converted to numeric, they return the internal integer codes of levels 1, 2, 3. The mean of those codes is not a meaningful statistic unless the levels are truly ordered and intentionally mapped to numeric scores.
